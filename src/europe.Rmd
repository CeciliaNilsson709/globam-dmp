# European radars

```{r}
# Read files
opera_radars <- fromJSON("http://eumetnet.eu/wp-content/themes/aeron-child/observations-programme/current-activities/opera/database/OPERA_Database/OPERA_RADARS_DB.json")
vp_coverage <- read.csv("https://lw-enram.s3-eu-west-1.amazonaws.com/coverage.csv")
```

## OPERA listing

```{r}
# Group radars by country and show number of all vs operational radars
opera_radars %>%
  group_by(country) %>%
  arrange(country) %>%
  summarize(
    radars = n_distinct(number),
    operational = n_distinct(number[status == 1]) # Status = 1 => operational
  ) %>%
  adorn_totals("row")
```

## VP coverage

```{r}
vp_coverage %>%
  mutate(year = year(date)) %>%
  group_by(countryradar, year) %>%
  summarize(
    days = n_distinct(date) # Number of dates with vp files
  ) %>%
  spread(year, days) %>% # Create year columns with days values
  adorn_totals("col")
```

